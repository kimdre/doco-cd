# NOTE: This is just for testing deployments
services:
  app:
    container_name: test
    image: nginx:latest
    ports:
      - "80"  # use random published port
    depends_on:
      - dep
    volumes:
      - ./:/usr/share/nginx/html
    environment:
      TEST_ENV_VAR: example_value
    env_file:
      - test.env
    secrets:
      - test_secret
    configs:
      - test_config

  dep:
    image: nginx:latest

secrets:
  test_secret:
    file: ./secret.txt

configs:
  test_config:
    file: ./config.conf